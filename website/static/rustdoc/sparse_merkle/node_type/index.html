<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `node_type` mod in crate `sparse_merkle`."><meta name="keywords" content="rust, rustlang, rust-lang, node_type"><title>sparse_merkle::node_type - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../sparse_merkle/index.html'><img src='../../rust-logo.png' alt='logo' width='100'></a><p class='location'>Module node_type</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div><p class='location'><a href='../index.html'>sparse_merkle</a></p><script>window.sidebarCurrent = {name: 'node_type', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/sparse_merkle/node_type.rs.html#1-557' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>sparse_merkle</a>::<wbr><a class="mod" href=''>node_type</a></span></h1><div class='docblock'><p>Node types of modified sparse merkle tree</p>
<p>This file defines three types of pactricia merkle tree node: branch node, extension node and
leaf node, used to simulate a 256-bit sparse merkle tree. Branch node represents a 4-level
binary tree to optimize for IOPS: it compresses a tree with 31 nodes into one node with 16
chidren at the lowest level. Extension node compresses a partial path without branch into a
single node by storing the partial path inside. Leaf node stores the full key and the value
hash which is used as the key to query binary account blob data from storage.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.BranchNode.html" title='sparse_merkle::node_type::BranchNode struct'>BranchNode</a></td><td class='docblock-short'><p>A branch node represents a 4-level subtree with 16 children 4 levels down.  The introduction of
branch node could benefit IOPS of querying a tree by 4x since we compress 4 levels in standard
merkle tree into 1 node.  Though we choose the same branch node structure as that of patricia
merkle tree, the merkle proof has the same format as that of modified sparse merkle tree, the
root hash computation logic is similar to a 4-level sparse merkle tree except some
customizations. See the <code>CryptoHash</code> trait implementation below for details.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ExtensionNode.html" title='sparse_merkle::node_type::ExtensionNode struct'>ExtensionNode</a></td><td class='docblock-short'><p>Extension node is exactly the same as that in patricia merkle tree. It compresses a path without
fork with a single node instead of multiple single-child branch nodes.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.LeafNode.html" title='sparse_merkle::node_type::LeafNode struct'>LeafNode</a></td><td class='docblock-short'><p>Leaf node represents an account. It has two fields: key is the hash value of acccont adress and
value_hash is the hash of account state blob.</p>
</td></tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table><tr class='module-item'><td><a class="enum" href="enum.Node.html" title='sparse_merkle::node_type::Node enum'>Node</a></td><td class='docblock-short'></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g., <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g., <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g., <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "sparse_merkle";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>